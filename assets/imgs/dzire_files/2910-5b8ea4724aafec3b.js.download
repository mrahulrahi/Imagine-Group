"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2910],{2910:function(t,e,a){var r=a(4111),i=a(47568),s=a(51438),n=a(52951),o=a(88029),l=a(60460),p=a(70655),c=a(85893),u=a(60357),d=a.n(u),v=a(67294),h=(a(99312),a(43817)),_=a(88696),g=a(3896),m=a(34294),f=a(69135),b=function(t){var e=t.children,a=t.ampOnly,r=(0,f.useAmp)();return a?r?e:null:r?null:e},x=function(t){(0,o.Z)(a,t);var e=(0,l.Z)(a);function a(t){var i;return(0,s.Z)(this,a),(i=e.call(this,t)).state={label:"Select Variant",variantArr2:i.props.variantArr2?i.props.variantArr2:[],modelSlug:i.props.modelSlug,section:i.props.section,variant_first_val:{},hideNullOption:i.props.hideNullOption,CityId:i.props.CityId?i.props.CityId:0,variant_id:i.props.varientId?i.props.varientId:0,DivClass:i.props.DivClass?i.props.DivClass:"selectComponent",SelectClass:i.props.SelectClass?i.props.SelectClass:"",source:i.props.source?i.props.source:"",Heading:(0,h.mO)(i.props.ConfigObj)&&void 0!=JSON.parse(i.props.ConfigObj).Heading?JSON.parse(i.props.ConfigObj).Heading:"Variant",ConfigObj:(0,h.mO)(i.props.ConfigObj)?JSON.parse(i.props.ConfigObj):{}},i.ApplyVariantGAEvents=i.ApplyVariantGAEvents.bind((0,r.Z)(i)),i}return(0,n.Z)(a,[{key:"componentDidUpdate",value:function(t,e){try{t.ConfigObj!==this.props.ConfigObj&&this.setState({ConfigObj:JSON.parse(this.props.ConfigObj)}),t.modelSlug!==this.props.modelSlug&&(this.setState({modelSlug:this.props.modelSlug}),this.getVariantByModel()),1==this.state.hideNullOption&&Object.entries(this.state.variant_first_val).length>0&&(0,h.mO)(e.variant_first_val)&&e.variant_first_val.v_variant_id!=this.state.variant_first_val.v_variant_id&&this.props.getSelMakeModelVariant({variant_obj:this.state.variant_first_val},!1)}catch(a){return(0,h.TN)("componentDidUpdate VariantDD",a),""}}},{key:"componentDidMount",value:function(){try{this.state.CityId||(this.setState({CityId:localStorage.getItem("UserCityID")}),this.state.CityId=localStorage.getItem("UserCityID")),(0,h.mO)(this.props.variantArr2)||this.getVariantByModel(),1==this.state.hideNullOption&&Object.entries(this.state.variant_first_val).length>0&&this.props.getSelMakeModelVariant({variant_obj:this.state.variant_first_val},!1)}catch(t){return(0,h.TN)("componentDidMount VariantDD",t),""}}},{key:"getVariantByModel",value:function(){var t=this;return(0,i.Z)((function(){var e,a,r,i,s,n;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),(e=t.props.modelSlug)?(t.setState({label:"Loading Variants..",variantArr2:[]}),"",a=void 0!==t.state.CityId&&"cycle"!==t.state.section?t.state.CityId:"1630",r=(0,h.mO)(t.props.ConfigObj)?JSON.parse(t.props.ConfigObj):{},i=(0,h.mO)(r)&&r.VariantStatus?r.VariantStatus:1,[4,(0,m.er)(e,t.state.section,0,a,"csr",{Status:i})]):[3,2];case 1:return(s=o.sent())&&s.results.length>0?(t.setState({variantArr2:s.results,label:"Select Variant"}),t.props.GetVariants&&t.props.GetVariants(s.results)):t.setState({label:"Select Variant",variantArr2:[]}),[3,3];case 2:t.setState({label:"Select Variant",variantArr2:[]}),o.label=3;case 3:return[3,5];case 4:return n=o.sent(),(0,h.TN)("getVariantByModel VariantDD",n),[2,""];case 5:return[2]}}))}))()}},{key:"ApplyVariantGAEvents",value:function(){try{this.state.source&&g.L.SOURCE_EVENT_MAPPING_Obj[this.state.source]&&(0,_.ApplyGAEvents)({category:g.L.SOURCE_EVENT_MAPPING_Obj[this.state.source]+" Page",action:"Click",label:"Change Variant"})}catch(t){return(0,h.TN)("ApplyVariantGAEvents VariantsDD",t),""}}},{key:"RenderView",value:function(){var t=this;this.state.variantArr2.map((function(e,a){0!=a||1!=t.state.hideNullOption||t.props.VariantSlug||(t.state.variant_first_val=JSON.stringify(e)),t.props.VariantSlug&&t.props.VariantSlug==e.v_variant_slug&&(t.state.variant_first_val=JSON.stringify(e))}));switch(this.props.view){case"2":return this.RenderView2();case"amp":return this.RenderViewAMP();default:return this.RenderView1()}}},{key:"RenderView1",value:function(){var t=this,e=this.state.variantArr2.map((function(e){return(0,c.jsx)("option",{selected:t.props.VariantSlug==e.v_variant_slug?"selected":"",value:JSON.stringify(e),children:e.v_variant_name})}));return(0,c.jsxs)("div",{className:" ".concat(this.props.hide?"hide":"","   ").concat(this.props.page&&"emi"==this.props.page?"col-md-4 mt-0":"variant-select"),children:[(0,c.jsx)("label",{children:this.state.Heading}),(0,c.jsxs)("select",{className:"formControl",onFocus:this.ApplyVariantGAEvents,onChange:function(e){return t.props.getSelMakeModelVariant({variant_obj:e.target.value},!0)},children:[this.state.hideNullOption&&0!=Object.entries(this.state.variant_first_val).length?"":(0,c.jsx)("option",{value:"",children:this.state.label}),e]})]})}},{key:"RenderViewAMP",value:function(){var t=this,e=this.state.variantArr2.map((function(e,a){return(0,c.jsx)("option",{id:a,role:"none",tabIndex:"0",value:"Emi"==t.state.source?(0,h.PG)(t.props.section,t.props.makeSlug,t.props.modelSlug,e.v_variant_slug):(0,h.eb)(t.props.section,t.props.makeSlug,t.props.modelSlug,e.v_variant_slug),selected:t.props.VariantSlug==e.v_variant_slug?"selected":"",children:e.v_variant_name})}));return(0,c.jsxs)("div",{className:"variant-select",children:[(0,c.jsx)("label",{children:"Variant"}),(0,c.jsxs)("select",{className:"formControl",id:"csd",onFocus:this.ApplyVariantGAEvents,on:"change:AMP.navigateTo(url=event.value)",children:[this.state.hideNullOption&&0!=Object.entries(this.state.variant_first_val).length?"":(0,c.jsx)("option",{value:"",children:this.state.label}),e]})]})}},{key:"RenderView2",value:function(){var t=this,e=(0,h.mO)(this.state.ConfigObj)&&this.state.ConfigObj.v_model_display_name?this.state.ConfigObj.v_model_display_name:"",a=this.state.variantArr2.map((function(e,a){return t.state.variant_id&&t.state.variant_id>0?(0,c.jsxs)("option",{selected:t.state.variant_id==e.v_variant_id?"selected":"",variantslug:e.v_variant_slug,value:e.v_variant_id,v_variant_name:e.v_variant_name,ex_showroom_price:e.ex_showroom_price,profile_image_url:e.profile_image_url,children:[e.v_variant_name,"  ",e.ex_showroom_price?" - Rs. "+(0,h.gh)(e.ex_showroom_price):""," "]}):(0,c.jsxs)("option",{selected:-1==a?"selected":"",variantslug:e.v_variant_slug,value:e.v_variant_id,v_variant_name:e.v_variant_name,ex_showroom_price:e.ex_showroom_price,profile_image_url:e.profile_image_url,children:[e.v_variant_name," ",e.ex_showroom_price?" - Rs. "+(0,h.gh)(e.ex_showroom_price):"","   "]})}));return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"variantDDBox",children:[(0,c.jsx)("label",{className:"labelUi",children:"Variant"}),(0,c.jsxs)("select",{className:" form-control",onFocus:this.ApplyVariantGAEvents,onChange:function(a){return t.props.getSelMakeModelVariant(t.props.ddNumber,{variant_id:a.target.value,variant_slug:a.target[a.target.selectedIndex].getAttribute("variantslug"),v_variant_name:a.target[a.target.selectedIndex].getAttribute("v_variant_name"),ex_showroom_price:a.target[a.target.selectedIndex].getAttribute("ex_showroom_price"),profile_image_url:a.target[a.target.selectedIndex].getAttribute("profile_image_url"),model_slug:t.props.modelSlug,make_slug:t.props.makeSlug,v_model_display_name:e})},children:[(0,c.jsx)("option",{value:"",children:this.state.label}),a]})]})})}},{key:"render",value:function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b,{children:this.RenderView()}),(0,c.jsxs)(b,{ampOnly:!0,children:[this.RenderViewAMP(),(0,c.jsx)(d(),{id:"85da8d8c6489315c",children:'.customnewSelect{position:relative;margin-bottom:16px;background:#fff;min-height:46px}.customnewSelect label{position:absolute;top:-6px;padding:0px 4px;left:8px;font-size:12px;color:rgba(0,0,0,.54);z-index:3}.customnewSelect::before{content:"\ue92e";font-family:"utm";position:absolute;z-index:0;top:14px;right:8px}.customnewSelect label::before{content:"";width:100%;height:4px;background:#fff;position:absolute;z-index:-1;top:6px;left:0px}.customnewSelect select{border:solid 1px rgba(0,0,0,.37);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-appearance:inherit;-moz-appearance:inherit;padding:8px 8px;min-height:46px;background:transparent;width:100%;z-index:0;width:100%;position:absolute}'})]})]})}}]),a}(v.Component);e.Z=x}}]);